# This is a basic workflow to help you get started with Actions

name: Update page on tags (excluding data-update)

on:
    push:
        branches: [master]
        tags:
            - "*"               # Run on every tag
            - "!data-update_*"  # ignore all "data-update_yyyy-mm-dd-hh" tags

jobs:
    # First build the new gatsby page and deploy it to gh-pages branche
    gatsby:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - name: Update Gatsby
            run: |
              chmod +x .update_gatsby.sh
              ./update_gatsby.sh
    # Do a second step
    instead_of_tweet:
        runs-on: ubuntu-latest
        needs: gatsby
        steps:
            - uses: actions/checkout@v2

            # Runs a single command using the runners shell
            - name: Run a one-line script
              run: echo Hello, world! This is a test
